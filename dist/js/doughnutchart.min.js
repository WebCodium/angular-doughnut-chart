angular.module("angular-doughnut-chart",[]),angular.module("angular-doughnut-chart").constant("doughnutChartConfig",{radius:100,stroke:14}),angular.module("angular-doughnut-chart").service("doughnutChartService",[function(){"use strict";var t={};return t.isSupported=!(!document.createElementNS||!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect),t.getPercent=function(t,e){return(100-t)*e/100},t.getLengthCircle=function(t){return Math.floor(2*Math.PI*t)},t.setSize=function(t,e){return{width:2*t+e,height:2*t+e}},t.setCircleAttrs=function(t,e){return{r:t,cx:t+e/2,cy:t+e/2}},t}]),angular.module("angular-doughnut-chart").directive("doughnutChart",["doughnutChartService","doughnutChartConfig",function(t,e){"use strict";var r={restrict:"E",scope:{percentage:"="}};return t.isSupported?angular.extend(r,{link:function(r,n){function a(){r.dashOffset=t.getPercent(r.percentage,r.length)}function s(){r.animate=!0,r.circleAnimationClass="circle-animation",a()}r.radius=e.radius,r.stroke=e.stroke,r.length=t.getLengthCircle(r.radius),r.dashOffset=r.length,n.find("svg").attr(t.setSize(r.radius,r.stroke)),n.find("circle").attr(t.setCircleAttrs(r.radius,r.stroke)),r.percentage&&s(),r.$watch("percentage",function(t,e){t!==e&&(r.percentage=t,r.animate?a():s())})},template:'<div class="doughnut-chart-wrapper" ng-show="percentage" style="width: {{radius * 2 + stroke}}px;"><div class="dough-text-suffix"><span class="dough-text">{{percentage}}</span><sup class="dough-suffix">%</sup></div><svg xmlns="http://www.w3.org/2000/svg"><g><circle fill="none" class="circle-bg" stroke-width="{{stroke}}"/><circle fill="none" class="{{circleAnimationClass}}" stroke-width="{{stroke}}" style="stroke-dasharray: {{length}};stroke-dashoffset: {{dashOffset}};"/></g></svg></div>'}):angular.extend(r,{template:'<div class="doughnut-chart-wrapper">Not supported</div>'})}]);