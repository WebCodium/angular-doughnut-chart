angular.module("angular-doughnut-chart",[]),angular.module("angular-doughnut-chart").constant("doughnutChartConfig",{radius:100,stroke:14}),angular.module("angular-doughnut-chart").service("doughnutChartService",[function(){"use strict";var t={};return t.isSupported=!(!document.createElementNS||!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect),t.getPercent=function(t,e){return(100-t)*e/100},t.getLengthCircle=function(t){return Math.floor(2*Math.PI*t)},t.setSize=function(t,e){return{width:2*t+e,height:2*t+e}},t.setCircleAttrs=function(t,e){return{r:t,cx:t+e/2,cy:t+e/2}},t.round=function(t){return Math.round(t)},t}]),angular.module("angular-doughnut-chart").directive("doughnutChart",["doughnutChartService","doughnutChartConfig","$timeout",function(t,e,r){"use strict";var n={restrict:"E",scope:{percentage:"="}};return t.isSupported?angular.extend(n,{link:function(n,a){function u(){n.dashOffset=t.getPercent(n.percentage,n.length)}n.radius=e.radius,n.stroke=e.stroke,n.round=t.round,n.length=t.getLengthCircle(n.radius),n.dashOffset=n.length,a.find("svg").attr(t.setSize(n.radius,n.stroke)),a.find("circle").attr(t.setCircleAttrs(n.radius,n.stroke)),n.percentage&&(n.animate=!0,r(u)),n.$watch("percentage",function(t,e){t!==e&&(n.percentage=t,n.animate?u():(n.animate=!0,r(u)))})},template:'<div class="doughnut-chart-wrapper" ng-show="percentage" style="width: {{radius * 2 + stroke}}px;"><div class="dough-text-suffix"><span class="dough-text">{{round(percentage)}}</span><sup class="dough-suffix">%</sup></div><svg xmlns="http://www.w3.org/2000/svg" width="" height=""><g><circle fill="none" class="circle-bg" stroke-width="{{stroke}}"/><circle fill="none" class="circle-animation" stroke-width="{{stroke}}" style="stroke-dasharray: {{length}};stroke-dashoffset: {{dashOffset}};"/></g></svg></div>'}):angular.extend(n,{template:'<div class="doughnut-chart-wrapper">Not supported</div>'})}]);